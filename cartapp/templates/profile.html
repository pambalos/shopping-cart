{% extends 'layout.html' %}
{% block content %}
<body  style = "padding: 0px 0px; height: auto;">
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if not messages %}
      <div class = "shopping-cart" style="width: 90%; max-width: 600px; min-width: auto; padding-bottom: 5%; height: auto; margin-top: 110px;">
      {% else %}
      <div class = "shopping-cart" style="width: 90%; min-width: auto; padding-bottom: 5%; height: auto; margin-top: 0;">
    {% endif %}
  {% endwith %}

    <form method = "POST" action = "">
      {{ form.hidden_tag() }}
      <legend class = "border-bottom" style="margin-bottom: 0px;height: 60px;padding-top: 10px;">Profile</legend>
      <div class="form-group" style = "margin-bottom: 0px; height: 130px">
        {{ form.email.label(class="flabel", style = "float: left; margin-left: 5%; margin-right: 5%; padding-top: 5%; padding-bottom: 0px; padding-left: 0px; text-align: left; border-bottom: none; height: 60px; margin-bottom: 0px;") }}
        {% if form.email.errors %}
            {{ form.email(class="form-c form-c-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.email.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
          {{ form.email(class="form-c form-c-lg", value = current_user.email, style = "height: 46px; float: left; width: 90%; margin-left: 5%; margin-right: 5%; left: 0px; margin-top:5px;") }}
        {% endif %}
      </div>
      <div class="form-group" style="height: 130px; margin-bottom: 0px;">
        {{ form.first_name.label(class="flabel", style = "float: left; margin-left: 5%; margin-right: 5%; padding-top: 5%; padding-bottom: 0px; padding-left: 0px; text-align: left; border-bottom: none; height: 60px; margin-bottom: 0px;") }}
        {% if form.first_name.errors %}
            {{ form.first_name(class="form-c form-c-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.first_name.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
          {{ form.first_name(class="form-c form-c-lg", value = current_user.first_name, style = "height: 46px; float: left; width: 90%; margin-left: 5%; margin-right: 5%; left: 0px; margin-top:5px;") }}
        {% endif %}
      </div>
      <div class="form-group" style="height: 130px; margin-bottom: 0px;">
        {{ form.last_name.label(class="flabel", style = "float: left; margin-left: 5%; margin-right: 5%; padding-top: 5%; padding-bottom: 0px; padding-left: 0px; text-align: left; border-bottom: none; height: 60px; margin-bottom: 0px;") }}
        {% if form.last_name.errors %}
            {{ form.last_name(class="form-c form-c-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.last_nawme.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
          {{ form.last_name(class="form-c form-c-lg", value = current_user.last_name, style = "height: 46px; float: left; width: 90%; margin-left: 5%; margin-right: 5%; left: 0px; margin-top:5px;") }}
        {% endif %}
      </div>
      <div class="form-group" style="height: 130px; margin-bottom: 0px; padding-top: 50px;">
        {% if current_user.token is none %}
        <h3>
          <a href={{ url_for('authorize') }}>Link Checkbook Account</a>
        </h3>
        <h6>
          Link or sign up for a checkbook account to make your purchases easy.
        </h6>
        {% else %}
        <h3 style = "font-weight: 350; margin-bottom: 0;">
          Checkbook Account Linked
        </h3>
        <h6>
          {{ form.delink(class="btn btn-outline-info", style = "color: #989898;background-color: White;text-align: center;border-width: 0;text-decoration: underline; padding-top: 0;") }}
        </h6>
        {% endif %}
      </div>
      <small class = "text-muted" style = "padding-top: 0px;">
        {{ form.save(class="btn btn-outline-info", style = "color: #ffffff; background-color: #0253c5; text-align: center;") }}
      </div>
    </form>
  </div>
</body>
{% endblock content %}
